<!DOCTYPE html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Refresher</title>
    <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js'></script>
    <script type="text/javascript" language="Javascript">


        $(document).ready(function () {
            var bindHover;
            bindHover = function () {
                $('.iframe').hover(function(){
													
													refresh();
													
												},function(){
													
												});
            };

            var unbindHover;
            unbindHover = function () {
                $('.iframe').unbind('hover');
            };

            var refresh, random_parm;
            refresh = function () {

								if( $('#param').is(':checked') ){
									random_parm = '?random=' + (Math.random() * 999999999);
								}else{
									random_parm = '' 
								};
            	
                $('.iframe').attr('src', 'http://' + $('#host').val() + $('#url').val() + random_parm);
                
            };

            var auto_refresh = null;

            $('#refreshBox').change(function (event) {
                if (auto_refresh) {
                    clearInterval(auto_refresh);
                }
                auto_refresh = $(this).is(':checked') ? setInterval(refresh, 1000) : null;
            });

            $('#hoverBox').change(function (event) {
                if ($(this).is(':checked')) {
                    unbindHover();
                } else {
                    bindHover();
                }
            });
            
            
            $('#host').click(function(event) {
            		$(this).val('');
            });
                        
            $('#url').click(function(event) {
            		// $(this).val('/');
            });
            
            $('#launch').click(function(event) {	
            	
            	if( $('#param').is(':checked') ){
            		 random_parm = '?random=' + (Math.random() * 999999999);
            	}else{
            		 random_parm = '' 
            	};
            	
            	open('http://' + $('#host').val()  + $('#url').val() + random_parm);
            		
            });	

            var init = function () {
                refresh();
                bindHover();
            };


            init();


        });
    </script>
    <style type='text/css'>
        div.top {
            padding: 10px;
            box-sizing: border-box;
            line-height: 10px;
            height: 40px;
        }

        div.top span {
            margin-left: 20px;
            float: left;
        }

        div.top span.table_wrapper {
            width: 300px;
        }

        div.top span.table_wrapper table {
            width: 100%;
        }

        div.top span.entry_text_box_wrapper input[type="text"] {
            width: 140px;
            float:left;
        }
        div.top span.entry_text_box_wrapper input#host {
            width: 80px;
            float:left;
            margin-left:50px;
        }
        div.top span.entry_text_box_wrapper input#param{
            float:left;
        } 
        
        div.top span.entry_text_box_wrapper input#completeApp{
            margin-left:50px;        	
            float:left;
        }          
        div.top span.entry_text_box_wrapper input#module{
            float:left;
        }     
        
        div.top span.entry_text_box_wrapper input#launch {
            float:left;
        }                               

        div.iframe_wrapper {
            position: absolute;
            top: 50px;
            left: 0;
            right: 0px;
            bottom: 0px;
        }

        div.iframe_wrapper iframe.iframe {
            width: 100%;
            height: 100%;
            background:white;
        }
    </style>
</head>
<body>
<div class='top '>
    <span><input id="refreshBox" type="checkbox" value="">&nbsp;Auto Refresh </span>
    <span><input id="hoverBox" type="checkbox" value="">&nbsp;Disable Hover </span>
    <span class='entry_text_box_wrapper '>
    	<input id="host" type="text" value="localhost">
    	<!-- /BackboneJS-AMD-Boilerplate -->
    	<!--/mobile/?id=120&  -->
    	<!-- /foo/test.html -->
    	<!---->
    	<input id="url" type="text" value="/prospace/index.html">
    	<input id="param" type="checkbox" checked >
    	<input id="launch" type="button" value="launch">
    	
    	<input id="completeApp" type="checkbox"  >
    	<input id="module" type="text" value="gallery">
    	
    	
    </span>

</div>
<div class='iframe_wrapper '>
    <iframe class='iframe' frameBorder="0" />
</div>
</body>
